import{_ as y,L as b,i as p,a as x,r as u,o as i,c as a,b as t,d as r,w as d,F as _,j as g,e as h,t as e,k as w}from"./index-mR1j4WQ4.js";import{c as k}from"./cartStore-wZCDnHfa.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"kun123",BASE_URL:"/vuefinal/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:m,VITE_PATH:v}=L,$={data(){return{cart:[],products:[],categories:["1貓房","2貓房","4貓房","5貓房"],isLoading:!0,fullPage:!0,loader:"bars"}},components:{Loading:b},watch:{"$route.query":{handler(){this.getProducts()},deep:!0}},methods:{getProducts(){this.isLoading=!0;const{category:o=""}=this.$route.query;p.get(`${m}/v2/api/${v}/products?category=${o}`).then(c=>{this.$Swal.fire({title:"成功取得商品列表",icon:"success",position:"top-end",timer:2e3,showConfirmButton:!1}),this.products=c.data.products,this.isLoading=!1}).catch(c=>{this.$Swal.fire({icon:"error",title:c.response.data.message})}).finally(()=>{})},getCarts(){p.get(`${m}/v2/api/${v}/cart`).then(o=>{this.cart=o.data.data}).catch(o=>{this.$Swal.fire({icon:"error",title:o.response.data.message})}).finally(()=>{this.isLoading=!1})},...x(k,["addToCart","getCart"])},mounted(){this.getProducts(),this.getCarts()}},T=t("div",{class:"aboutbanner mt-5",style:{"background-image":"url('images/roombanner.jpg')",height:"200px"}},[t("h1",{class:"text-white"},"貓咪旅館。")],-1),C={class:"bg-primary py-4"},P={class:"container text-info py-6 vl-parent"},V={class:"row py-6"},E={class:"col-md-3 fixed"},S={class:"card text-center bg-secondary",style:{width:"18rem"}},R=t("div",{class:"card-header py-3"}," 房型類別 ",-1),B={class:"list-group list-group-flush"},N={class:"list-group-item"},U={class:"col-9"},A={class:"row"},D={class:"col-3"},I=["src"],j={class:"col-9"},q={class:"row mb-5"},F={class:"col-8"},H={class:"py-4"},M={class:"card-title border-bottom mb-2"},O={class:"card-text mb-4"},z={class:"badge bg-secondary"},G={class:"col-4 p-4 text-end position-relative"},J={key:0},K={key:1},Q={class:"text-secondary"},W={class:"card-text mb-7"},X={class:"text-muted"},Y={class:"row"},Z={class:"col-8 m"},tt={class:"col-4",style:{position:"relative"}},st={class:"btn-group position-absolute",role:"group","aria-label":"Basic outlined example",style:{bottom:"10px",right:"25px"}},et={type:"button",class:"btn btn-outline-primary"},ot=["onClick"];function it(o,c,at,ct,n,nt){const f=u("Loading"),l=u("RouterLink");return i(),a(_,null,[T,t("div",C,[t("div",P,[r(f,{active:n.isLoading,"onUpdate:active":c[0]||(c[0]=s=>n.isLoading=s),"can-cancel":!1,"is-full-page":n.fullPage,loader:n.loader},null,8,["active","is-full-page","loader"]),t("div",V,[t("div",E,[t("div",S,[R,t("ul",B,[t("li",N,[r(l,{class:"py-2 nav-link btn-active",to:"/products"},{default:d(()=>[h("全部房型")]),_:1})]),(i(!0),a(_,null,g(n.categories,s=>(i(),a("li",{class:"list-group-item",key:s},[r(l,{class:"py-2 nav-link",to:`/products?category=${s}`},{default:d(()=>[h(e(s),1)]),_:2},1032,["to"])]))),128))])])]),t("div",U,[(i(!0),a(_,null,g(n.products,s=>(i(),a("div",{class:"card mb-3",style:{"max-width":"990px",height:"302px"},key:s.id},[t("div",A,[t("div",D,[t("img",{src:s.imageUrl,class:"rounded-start object-fit-cover",alt:"...",width:"200",height:"300"},null,8,I)]),t("div",j,[t("div",q,[t("div",F,[t("div",H,[t("h5",M,e(s.title),1),t("p",O,e(s.unit),1),t("span",z,e(s.category),1)])]),t("div",G,[s.origin_price===s.price?(i(),a("h3",J,"NT$ "+e(s.price)+"/ 貓",1)):(i(),a("div",K,[t("h3",Q,"NT$ "+e(s.price)+"/ 貓",1),t("del",W,[t("small",X,e(s.origin_price)+"/一貓",1)])]))])]),t("div",Y,[t("div",Z,e(s.content),1),t("div",tt,[t("div",st,[t("button",et,[r(l,{to:`/product/${s.id}`,class:"nav-link"},{default:d(()=>[h("查看更多")]),_:2},1032,["to"])]),t("button",{type:"button",class:"btn btn-primary",onClick:w(rt=>o.addToCart(s.id),["prevent"])}," 加入購物車 ",8,ot)])])])])])]))),128))])])])])],64)}const _t=y($,[["render",it]]);export{_t as default};
